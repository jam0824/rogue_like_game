<div class="hud-hp" id="hpHud">
    <div class="hud-hp__label"><span>HP</span></div>
  
    <div class="hud-hp__bar" role="img" aria-label="HP 80/100">
      <div class="hud-hp__fill"></div>
      <div class="hud-hp__text">80/100</div>
    </div>
  </div>
  
  <style>
    .hud-hp{
      --h: 22px;
      --cut: 6px;
      --gap: 10px; /* ← HPとバーの間隔（好みで調整） */
  
      --frame1: #082200;
      --frame2: #2d4a10;
      --empty:  rgba(26,49,5,.85);
  
      --fillTop:#ffd0d0;
      --fillMid:#ff6b6b;
      --fillBot:#d94141;
  
      display: inline-flex;
      align-items: center;
      gap: var(--gap);
      background: transparent;
  
      font: 900 14px/1 ui-monospace, system-ui, sans-serif; /* 太字 */
      letter-spacing: .5px;
      user-select: none;
    }
  
    .hud-hp__label,
    .hud-hp__bar,
    .hud-hp__fill{
      clip-path: polygon(
        var(--cut) 0, calc(100% - var(--cut)) 0, 100% var(--cut),
        100% calc(100% - var(--cut)), calc(100% - var(--cut)) 100%, var(--cut) 100%,
        0 calc(100% - var(--cut)), 0 var(--cut)
      );
    }
  
    /* HPラベル：背景なし */
    .hud-hp__label{
  height: var(--h);
  padding: 0 10px;
  display: grid;
  place-items: center;
  background: transparent;

  /* ↓これが枠なので削除 or none にする */
  box-shadow: none;
}
    .hud-hp__label span{
      font-weight: 900;
      color: #fff;
      -webkit-text-stroke: 1px rgba(0,0,0,.6);
      text-shadow:
        1px 0 rgba(0,0,0,.7), -1px 0 rgba(0,0,0,.7),
        0 1px rgba(0,0,0,.7), 0 -1px rgba(0,0,0,.7);
    }
  
    .hud-hp__bar{
      position: relative;
      width: 220px;
      height: var(--h);
      background: var(--empty);
      overflow: hidden;
  
      /* 同じく内側枠 */
      box-shadow:
        inset 0 0 0 2px var(--frame1),
        inset 0 0 0 4px var(--frame2);
    }
  
    .hud-hp__fill{
      position: absolute;
      inset: 0;
      width: calc(var(--pct, 0.8) * 100%); /* 初期80% */
      background: linear-gradient(to bottom, var(--fillTop) 0%, var(--fillMid) 38%, var(--fillBot) 100%);
      box-shadow:
        inset 0 2px 0 rgba(255,255,255,.35),
        inset 0 -2px 0 rgba(0,0,0,.25);
      transition: width 120ms linear;
    }
    .hud-hp__fill::after{
      content:"";
      position:absolute;
      left:0; right:0; top:3px;
      height: 25%;
      background: rgba(255,255,255,.18);
    }
  
    .hud-hp__text{
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      font-weight: 900;
      color: #fff;
      -webkit-text-stroke: 1px rgba(0,0,0,.55);
      text-shadow:
        1px 0 rgba(0,0,0,.7), -1px 0 rgba(0,0,0,.7),
        0 1px rgba(0,0,0,.7), 0 -1px rgba(0,0,0,.7);
      pointer-events: none;
    }
  </style>
  
  <script>
    function setHP(root, current, max){
      const pct = Math.max(0, Math.min(1, max ? current / max : 0));
      root.style.setProperty('--pct', pct);
  
      const text = `${current}/${max}`;
      root.querySelector('.hud-hp__text').textContent = text;
      root.querySelector('.hud-hp__bar').setAttribute('aria-label', `HP ${text}`);
    }
  
    setHP(document.querySelector('#hpHud'), 80, 100);
  </script>
  